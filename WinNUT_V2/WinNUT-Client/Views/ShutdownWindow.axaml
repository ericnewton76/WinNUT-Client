<Window xmlns="https://github.com/avaloniaui"
				xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
				xmlns:vm="using:WinNUT_Client.ViewModels"
				xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
				xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
				mc:Ignorable="d" d:DesignWidth="400" d:DesignHeight="200"
				x:Class="WinNUT_Client.Views.ShutdownWindow"
				x:DataType="vm:ShutdownViewModel"
				Icon="/Assets/WinNut.ico"
				Title="Shutdown Warning"
				Width="400" Height="200"
				WindowStartupLocation="CenterScreen"
				CanResize="False"
				Topmost="True"
				SystemDecorations="BorderOnly">

	<Design.DataContext>
		<vm:ShutdownViewModel/>
	</Design.DataContext>

	<Border Background="{DynamicResource SystemControlBackgroundAltHighBrush}" Padding="20">
		<StackPanel Spacing="15" VerticalAlignment="Center">
			<!-- Warning Icon and Message -->
			<StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="10">
				<PathIcon Data="M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z" 
									Foreground="Orange" Width="32" Height="32" />
				<TextBlock Text="{Binding Message}" FontSize="14" VerticalAlignment="Center" TextWrapping="Wrap" />
			</StackPanel>

			<!-- Countdown Display -->
			<TextBlock Text="{Binding CountdownText}" FontSize="48" FontWeight="Bold" 
								 HorizontalAlignment="Center" Foreground="OrangeRed" />

			<!-- Progress Bar -->
			<ProgressBar Value="{Binding ProgressValue}" Maximum="100" Height="10" />

			<!-- Buttons -->
			<StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="20">
				<Button Content="Cancel Shutdown" Command="{Binding CancelCommand}" 
								Width="140" HorizontalContentAlignment="Center" />
				<Button Content="Shutdown Now" Command="{Binding ShutdownNowCommand}" 
								Width="140" HorizontalContentAlignment="Center" 
								Background="OrangeRed" Foreground="White" />
			</StackPanel>
		</StackPanel>
	</Border>
</Window>
